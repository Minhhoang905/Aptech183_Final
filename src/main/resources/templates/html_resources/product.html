<!DOCTYPE html>
<html lang="en" xmlns="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complex Gym</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
    <link rel="stylesheet" th:href="@{/css_resources/product.css}">
	<style>
	.product_container {
	    display: flex;
	    justify-content: center;
	}	
	.product_name {
	    display: inline-block;
	    max-width: 200px; 
	    white-space: nowrap;
	    overflow: hidden;
	    text-overflow: ellipsis;
	}
	.pagination {
	    text-align: center;
	    margin-top: 20px;
	}
	.pagination a {
	    display: inline-block;
	    margin: 0 5px;
	    padding: 6px 12px;
	    background: #eee;
	    color: #333;
	    text-decoration: none;
	    border-radius: 4px;
	    border: 1px solid #ccc;
	}
	.pagination a.active {
	    background: #333;
	    color: #fff;
	    font-weight: bold;
	}
	
	</style>

</head>

<body>
    <header>
        <a th:href="@{/ComplexGym/home}" class="logo">Complex<span> Gym</span></a>
        <nav class="navbar">
            <ul>
                <li><a th:href="@{/ComplexGym/home}">HOME</a></li>
                <li><a href="#">PRODUCTS +</a>
                    <ul>
                        <li><a th:href="@{/ComplexGym/products/supplements}">Supplements</a></li>
                        <li><a th:href="@{/ComplexGym/products/gears}">Gears</a></li>
                    </ul>
                </li>
                <li><a th:href="@{/ComplexGym/schedule}">SCHEDULE</a></li>
                <li><a th:href="@{/ComplexGym/cart}"><i class="fa fa-shopping-cart" aria-hidden="true"></i> CART</a></li>
                <li th:if="${role == 'Anonymous'}"><a th:href="@{/login}" type="button" class="button">LOGIN</a></li>
                <li th:if="${role != 'Anonymous'}"><a class="welcome" href="#"><i
                            class="fa-solid fa-circle-user"></i>WELCOME!</a>
                    <ul>
                        <li th:if="${role == 'ROLE_ADMIN'}"><a th:href="@{/userManagement}">User<br>management</a></li>
                        <li th:if="${role == 'ROLE_ADMIN'}"><a
                                th:href="@{/ComplexGym/products/productManagement}">Product<br>management</a></li>
                        <li><a th:href="@{/ComplexGym/payment/ordersManagement}">Order<br>management</a></li>
                        <li th:if="${role == 'ROLE_ADMIN'}"><a th:href="@{/ComplexGym/schedule/scheduleManagement}">Schedule<br>management</a></li>                                                                        
                        <li><a th:href="@{/logout}">Logout</a></li>
                    </ul>
                </li>
            </ul>
        </nav>
    </header>

    <main>
        <h2>Products</h2>
        <div class="product_container">

            <div class="product_card" th:each="product : ${supplements}">
                <a data-type="supplement" th:href="@{/ComplexGym/products/detailProduct(id=${product.id})}">
                    <div class="product_img"><img th:src="${product.imagePath}" alt=""></div>
                    <div class="product_content">
                        <span th:text="${product.productName}" class="product_name"></span>
                        <p class="vnd"><span th:text="${#numbers.formatInteger(product.price, 3, 'POINT')}" class="product_price"></span>VND</p>
                       
                       
                    </div>
                </a>
            </div>
            
            <div data-type="gear" class="product_card" th:each="product : ${gears}">
                <a th:href="@{/ComplexGym/products/detailProduct(id=${product.id})}">
                    <div class="product_img"><img th:src="${product.imagePath}" alt=""></div>
                    <div class="product_content">
                        <span th:text="${product.productName}" class="product_name"></span>
                        <p class="vnd"><span th:text="${#numbers.formatInteger(product.price, 3, 'POINT')}" class="product_price"></span>VND</p>
                    </div>
                </a>
            </div>
            
        </div>
	<div id="pagination" class="pagination"></div>
	
        <!--FOOTER-->
        <footer>
            <h3>Complex Gym ©</h3>
            <ul>
                <li>+84 01234567899</li>
                <li>Nam ky khoi nghia, Ngu Hanh Son, Da Nang</li>
                <li>complexgym@gmail.com</li>
            </ul>
            <h4>© 2025 Copyright: SanNHT & HoangDNM2</h4>
        </footer>
    </main>

    <script th:src="@{https://cdn.jsdelivr.net/npm/gsap@3.12.7/dist/gsap.min.js}"></script>
    <script th:src="@{https://cdn.jsdelivr.net/npm/gsap@3.12.7/dist/ScrollTrigger.min.js}"></script>
    <script th:src="@{https://cdn.jsdelivr.net/npm/gsap@3.12.7/dist/TextPlugin.min.js}"></script>

    <script th:src="@{/js_resources/home.js}"></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const itemsPerPage = 8;
        const allProducts = Array.from(document.querySelectorAll(".product_card"));
        const pagination = document.getElementById("pagination");

        let currentPage = 1;
        const totalPages = Math.ceil(allProducts.length / itemsPerPage);

        function showPage(page) {
            currentPage = page;
            const start = (page - 1) * itemsPerPage;
            const end = start + itemsPerPage;

            allProducts.forEach((item, index) => {
                item.style.display = (index >= start && index < end) ? "block" : "none";
            });

            renderPagination();
        }

        function renderPagination() {
            pagination.innerHTML = "";

            for (let i = 1; i <= totalPages; i++) {
                const link = document.createElement("a");
                link.textContent = i;
                link.href = "#";
                if (i === currentPage) link.classList.add("active");
                link.onclick = () => { showPage(i); return false; };
                pagination.appendChild(link);
            }
        }

        showPage(1);
    });
</script>

</body>

</html>